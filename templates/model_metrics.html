{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h3 class="mb-0">Model Performance Metrics</h3>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <div class="card bg-info text-white">
                            <div class="card-body text-center">
                                <h5 class="card-title">Accuracy</h5>
                                <h2 class="mb-0">{{ "%.1f"|format(metrics.accuracy * 100) }}%</h2>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3 mb-4">
                        <div class="card bg-success text-white">
                            <div class="card-body text-center">
                                <h5 class="card-title">Precision</h5>
                                <h2 class="mb-0">{{ "%.1f"|format(metrics.precision * 100) }}%</h2>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3 mb-4">
                        <div class="card bg-warning text-white">
                            <div class="card-body text-center">
                                <h5 class="card-title">Recall</h5>
                                <h2 class="mb-0">{{ "%.1f"|format(metrics.recall * 100) }}%</h2>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3 mb-4">
                        <div class="card bg-primary text-white">
                            <div class="card-body text-center">
                                <h5 class="card-title">F1 Score</h5>
                                <h2 class="mb-0">{{ "%.1f"|format(metrics.f1 * 100) }}%</h2>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4">
                    <h4>Metrics Explanation:</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <strong>Accuracy:</strong> 
                            The percentage of correct predictions out of all predictions made.
                        </li>
                        <li class="list-group-item">
                            <strong>Precision:</strong>
                            The percentage of correct positive predictions out of all positive predictions.
                        </li>
                        <li class="list-group-item">
                            <strong>Recall:</strong>
                            The percentage of actual positive cases that were correctly identified.
                        </li>
                        <li class="list-group-item">
                            <strong>F1 Score:</strong>
                            The harmonic mean of precision and recall, providing a balanced measure.
                        </li>
                    </ul>
                </div>

                <!-- Model Comparison Table -->
                <div class="mt-5">
                    <h4>Model Comparison Analysis</h4>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th>Model</th>
                                    <th>Accuracy</th>
                                    <th>Precision</th>
                                    <th>Recall</th>
                                    <th>F1 Score</th>
                                    <th>Training Time</th>
                                    <th>Prediction Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Random Forest</strong></td>
                                    <td>87.0%</td>
                                    <td>85.0%</td>
                                    <td>86.0%</td>
                                    <td>86.0%</td>
                                    <td>2.3s</td>
                                    <td>0.01s</td>
                                </tr>
                                <tr>
                                    <td>Logistic Regression</td>
                                    <td>82.0%</td>
                                    <td>80.0%</td>
                                    <td>83.0%</td>
                                    <td>81.5%</td>
                                    <td>0.5s</td>
                                    <td>0.005s</td>
                                </tr>
                                <tr>
                                    <td>Decision Tree</td>
                                    <td>84.0%</td>
                                    <td>82.0%</td>
                                    <td>85.0%</td>
                                    <td>83.5%</td>
                                    <td>0.8s</td>
                                    <td>0.008s</td>
                                </tr>
                                <tr>
                                    <td>XGBoost</td>
                                    <td>86.0%</td>
                                    <td>84.0%</td>
                                    <td>85.0%</td>
                                    <td>84.5%</td>
                                    <td>1.5s</td>
                                    <td>0.015s</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="alert alert-info mt-3">
                        <h5><i class="fas fa-info-circle me-2"></i>Model Selection Rationale</h5>
                        <p class="mb-0">
                            Random Forest was selected as the final model due to its:
                            <ul class="mb-0">
                                <li>Superior accuracy and balanced performance across all metrics</li>
                                <li>Robust handling of non-linear relationships</li>
                                <li>Good resistance to overfitting</li>
                                <li>Reasonable prediction speed for real-time applications</li>
                            </ul>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 